# 🎯 边写边看开发环境设置指南

## 📐 目标布局

```
┌─────────────────────────────────────────────────────┐
│                                                       │
│  左边 2/3 屏幕                                        │
│  ┌─────────────────────────────────────┐             │
│  │                                     │             │
│  │      Cursor 代码编辑器               │             │
│  │      (写代码的地方)                  │             │
│  │                                     │             │
│  └─────────────────────────────────────┘             │
│                                                       │
│  右边 1/3 屏幕                                        │
│  ┌──────────────────┐                                │
│  │                  │                                │
│  │  iOS 模拟器       │                                │
│  │  (实时预览)       │                                │
│  │                  │                                │
│  └──────────────────┘                                │
│                                                       │
└─────────────────────────────────────────────────────┘
```

---

## 🚀 一键启动（推荐）

### 方式 1：使用自动化脚本

```bash
cd "/Users/niyutong/Desktop/AI聚合器开发方式Two"
./start-ios-dev.sh
```

这个脚本会：
1. ✅ 清理端口
2. ✅ 检查依赖
3. ✅ 启动 Expo 开发服务器
4. ✅ 自动打开 iOS 模拟器
5. ✅ 自动布局窗口（Cursor 左边 2/3，模拟器右边 1/3）

---

## 📋 手动步骤（如果脚本不工作）

### 步骤 1：启动 Expo + iOS 模拟器

在 Cursor 终端中运行：

```bash
cd "/Users/niyutong/Desktop/AI聚合器开发方式Two"
npx expo start --ios
```

等待：
- Expo 开发服务器启动（约 5-10 秒）
- iOS 模拟器启动（首次启动可能需要 30-60 秒）

### 步骤 2：手动布局窗口

#### 方法 A：使用 macOS 分屏功能

1. **打开 Cursor**（确保有代码文件打开）
2. **打开 iOS 模拟器**（应该已经自动打开了）
3. **按住 Option 键**，点击并拖动 Cursor 窗口到屏幕左边
4. **点击模拟器窗口**，它会自动填充右边

#### 方法 B：使用 AppleScript（自动化）

运行以下命令：

```bash
osascript -e '
tell application "Cursor"
    activate
    set bounds of front window to {0, 0, 1707, 1440}
end tell

tell application "Simulator"
    activate
    set bounds of front window to {1707, 0, 2560, 1440}
end tell

tell application "Cursor"
    activate
end tell
'
```

**注意**：需要根据你的屏幕分辨率调整数字：
- `1707` = 屏幕宽度的 2/3（假设 2560px 宽屏幕）
- `2560` = 屏幕总宽度
- `1440` = 屏幕高度

#### 方法 C：使用窗口管理工具（推荐）

安装 **Rectangle**（免费窗口管理工具）：

```bash
# 使用 Homebrew 安装
brew install --cask rectangle
```

安装后：
1. 打开 Rectangle
2. 使用快捷键：
   - `⌘ + ⌃ + ←`：将窗口放到左边 2/3
   - `⌘ + ⌃ + →`：将窗口放到右边 1/3

---

## 🎨 优化建议

### 1. 使用 Rectangle 窗口管理工具（强烈推荐）

**优点**：
- ✅ 一键布局窗口
- ✅ 支持多种布局模式
- ✅ 可以保存布局预设
- ✅ 完全免费

**安装**：
```bash
brew install --cask rectangle
```

**使用**：
1. 打开 Cursor
2. 按 `⌘ + ⌃ + ←`（将 Cursor 放到左边）
3. 打开 iOS 模拟器
4. 按 `⌘ + ⌃ + →`（将模拟器放到右边）

### 2. 调整模拟器尺寸

iOS 模拟器可能太大，可以调整：

1. 在模拟器中：**Window → Physical Size**（或按 `⌘ + 1`）
2. 或者：**Window → Scale → 75%**

### 3. 使用多个桌面（Spaces）

1. 创建两个桌面（Mission Control）
2. 桌面 1：放 Cursor
3. 桌面 2：放 iOS 模拟器
4. 使用三指左右滑动切换

---

## 🔧 故障排除

### 问题 1：窗口布局脚本不工作

**解决方案**：
- 检查 Cursor 和 Simulator 应用名称是否正确
- 手动使用 Rectangle 或 macOS 分屏功能

### 问题 2：iOS 模拟器启动太慢

**解决方案**：
- 首次启动确实很慢（30-60 秒），这是正常的
- 之后启动会快很多（5-10 秒）
- 可以保持模拟器运行，只重启 Expo

### 问题 3：窗口位置不对

**解决方案**：
1. 检查屏幕分辨率
2. 调整脚本中的数字
3. 或使用 Rectangle 手动调整

### 问题 4：Expo 没有自动打开模拟器

**解决方案**：
```bash
# 手动打开模拟器
open -a Simulator

# 然后在 Expo 终端按 'i' 键
```

---

## 📝 工作流程

### 日常开发流程

1. **启动开发环境**：
   ```bash
   ./start-ios-dev.sh
   ```

2. **等待启动完成**（约 30-60 秒）

3. **开始编码**：
   - 在 Cursor 中修改代码
   - 保存文件（`⌘ + S`）
   - 在右边模拟器中实时查看效果

4. **热重载**：
   - 代码保存后自动重载
   - 或按 `r` 键手动重载

5. **停止开发**：
   - 在终端按 `Ctrl + C`
   - 关闭模拟器（可选）

---

## 🎯 快捷键参考

### Expo 终端快捷键
- `r` - 重新加载应用
- `m` - 切换菜单
- `i` - 打开 iOS 模拟器
- `a` - 打开 Android 模拟器
- `w` - 在浏览器中打开
- `Ctrl + C` - 停止服务器

### macOS 窗口管理（Rectangle）
- `⌘ + ⌃ + ←` - 左边 2/3
- `⌘ + ⌃ + →` - 右边 1/3
- `⌘ + ⌃ + ↑` - 上半部分
- `⌘ + ⌃ + ↓` - 下半部分

---

## ✅ 检查清单

完成以下检查，确保一切就绪：

- [ ] Xcode 已安装并配置
- [ ] Expo CLI 已安装（`npx expo --version`）
- [ ] 项目依赖已安装（`node_modules` 存在）
- [ ] iOS 模拟器可以正常启动
- [ ] 窗口布局脚本可以运行（或安装了 Rectangle）
- [ ] 热重载功能正常

---

## 🎉 开始享受边写边看的开发体验！

现在你可以：
- ✅ 在左边写代码
- ✅ 在右边实时看到效果
- ✅ 修改后自动更新
- ✅ 专注于开发，无需切换窗口

**祝你开发愉快！** 🚀
